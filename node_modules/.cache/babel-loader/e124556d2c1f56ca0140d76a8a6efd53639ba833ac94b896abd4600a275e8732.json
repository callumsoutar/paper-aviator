{"ast":null,"code":"import React from'react';import{useAppContext}from'../../context/AppContext';import'../../styles/Bookings.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BookingsList=_ref=>{let{bookings,showActions=true}=_ref;const{updateBookingStatus,staffList,aircraftList,membersList}=useAppContext();const getMemberName=memberId=>{const member=membersList.find(m=>m.id===memberId);return member?\"\".concat(member.firstName,\" \").concat(member.lastName):'Unknown Member';};const getStaffName=staffId=>{const staff=staffList.find(s=>s.id===staffId);return staff?\"\".concat(staff.firstName,\" \").concat(staff.lastName):'Unknown Staff';};const getAircraftInfo=aircraftId=>{const aircraft=aircraftList.find(a=>a.id===aircraftId);return aircraft?\"\".concat(aircraft.type,\" (\").concat(aircraft.registration,\")\"):'Unknown Aircraft';};return/*#__PURE__*/_jsx(\"div\",{className:\"bookings-list\",children:bookings.map(booking=>/*#__PURE__*/_jsxs(\"div\",{className:\"booking-item \".concat(booking.status.toLowerCase()),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"booking-date\",children:new Date(booking.dateTime).toLocaleString()}),/*#__PURE__*/_jsx(\"span\",{className:\"booking-status \".concat(booking.status.toLowerCase()),children:booking.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"booking-details\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Member:\"}),\" \",getMemberName(booking.memberId)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Instructor:\"}),\" \",getStaffName(booking.staffId)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Aircraft:\"}),\" \",getAircraftInfo(booking.aircraftId)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration:\"}),\" \",Math.round((new Date(booking.endDateTime)-new Date(booking.dateTime))/1000/60),\" minutes\"]}),booking.comments&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Comments:\"}),\" \",booking.comments]}),showActions&&/*#__PURE__*/_jsxs(\"div\",{className:\"booking-actions\",children:[booking.status==='Unconfirmed'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateBookingStatus(booking.id,'Confirmed'),className:\"confirm-btn\",children:\"Confirm\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateBookingStatus(booking.id,'Cancelled'),className:\"cancel-btn\",children:\"Cancel\"})]}),booking.status==='Confirmed'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateBookingStatus(booking.id,'Complete'),className:\"complete-btn\",children:\"Mark Complete\"})]})]})]},booking.id))});};export default BookingsList;","map":{"version":3,"names":["React","useAppContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BookingsList","_ref","bookings","showActions","updateBookingStatus","staffList","aircraftList","membersList","getMemberName","memberId","member","find","m","id","concat","firstName","lastName","getStaffName","staffId","staff","s","getAircraftInfo","aircraftId","aircraft","a","type","registration","className","children","map","booking","status","toLowerCase","Date","dateTime","toLocaleString","Math","round","endDateTime","comments","onClick"],"sources":["C:/Users/GGPC/aeroclub-bookings/src/components/BookingsList/BookingsList.js"],"sourcesContent":["import React from 'react';\r\nimport { useAppContext } from '../../context/AppContext';\r\nimport '../../styles/Bookings.css';\r\n\r\nconst BookingsList = ({ bookings, showActions = true }) => {\r\n  const { \r\n    updateBookingStatus, \r\n    staffList, \r\n    aircraftList, \r\n    membersList \r\n  } = useAppContext();\r\n\r\n  const getMemberName = (memberId) => {\r\n    const member = membersList.find(m => m.id === memberId);\r\n    return member ? `${member.firstName} ${member.lastName}` : 'Unknown Member';\r\n  };\r\n\r\n  const getStaffName = (staffId) => {\r\n    const staff = staffList.find(s => s.id === staffId);\r\n    return staff ? `${staff.firstName} ${staff.lastName}` : 'Unknown Staff';\r\n  };\r\n\r\n  const getAircraftInfo = (aircraftId) => {\r\n    const aircraft = aircraftList.find(a => a.id === aircraftId);\r\n    return aircraft ? `${aircraft.type} (${aircraft.registration})` : 'Unknown Aircraft';\r\n  };\r\n\r\n  return (\r\n    <div className=\"bookings-list\">\r\n      {bookings.map(booking => (\r\n        <div key={booking.id} className={`booking-item ${booking.status.toLowerCase()}`}>\r\n          <div className=\"booking-header\">\r\n            <span className=\"booking-date\">\r\n              {new Date(booking.dateTime).toLocaleString()}\r\n            </span>\r\n            <span className={`booking-status ${booking.status.toLowerCase()}`}>\r\n              {booking.status}\r\n            </span>\r\n          </div>\r\n          <div className=\"booking-details\">\r\n            <p><strong>Member:</strong> {getMemberName(booking.memberId)}</p>\r\n            <p><strong>Instructor:</strong> {getStaffName(booking.staffId)}</p>\r\n            <p><strong>Aircraft:</strong> {getAircraftInfo(booking.aircraftId)}</p>\r\n            <p><strong>Duration:</strong> {\r\n              Math.round(\r\n                (new Date(booking.endDateTime) - new Date(booking.dateTime)) / 1000 / 60\r\n              )\r\n            } minutes</p>\r\n            {booking.comments && <p><strong>Comments:</strong> {booking.comments}</p>}\r\n            \r\n            {showActions && (\r\n              <div className=\"booking-actions\">\r\n                {booking.status === 'Unconfirmed' && (\r\n                  <>\r\n                    <button \r\n                      onClick={() => updateBookingStatus(booking.id, 'Confirmed')}\r\n                      className=\"confirm-btn\"\r\n                    >\r\n                      Confirm\r\n                    </button>\r\n                    <button \r\n                      onClick={() => updateBookingStatus(booking.id, 'Cancelled')}\r\n                      className=\"cancel-btn\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </>\r\n                )}\r\n                {booking.status === 'Confirmed' && (\r\n                  <button \r\n                    onClick={() => updateBookingStatus(booking.id, 'Complete')}\r\n                    className=\"complete-btn\"\r\n                  >\r\n                    Mark Complete\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingsList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}