{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\GGPC\\\\aeroclub-bookings\\\\src\\\\pages\\\\Scheduler\\\\Scheduler.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport resourceTimelinePlugin from '@fullcalendar/resource-timeline';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { useAppContext } from '../../context/AppContext';\nimport './Scheduler.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Scheduler = () => {\n  _s();\n  const {\n    staffList,\n    aircraftList\n  } = useAppContext();\n  const [events, setEvents] = useState([{\n    id: '1',\n    title: 'Flight Training',\n    start: '2024-12-15T09:00:00',\n    end: '2024-12-15T12:00:00',\n    resourceId: 'staff1'\n  }, {\n    id: '2',\n    title: 'Aircraft Maintenance',\n    start: '2024-12-15T13:00:00',\n    end: '2024-12-15T15:00:00',\n    resourceId: 'airplane1'\n  }]);\n  const resources = [{\n    id: 'instructors-header',\n    title: 'Flight Instructors',\n    children: staffList.map(staff => ({\n      id: staff.id,\n      title: `Capt. ${staff.firstName} ${staff.lastName}`\n    }))\n  }, {\n    id: 'aircraft-header',\n    title: 'Aircraft Fleet',\n    children: aircraftList.map(aircraft => ({\n      id: aircraft.id,\n      title: `${aircraft.type} (${aircraft.registration})`\n    }))\n  }];\n  useEffect(() => {\n    const rows = document.querySelectorAll('.fc-timeline-body tr');\n    rows.forEach(row => {\n      row.style.borderBottom = '1px solid #ddd';\n    });\n  }, []);\n  const handleDateSelect = selectInfo => {\n    const title = prompt('Enter booking title:');\n    const calendarApi = selectInfo.view.calendar;\n    calendarApi.unselect();\n    if (title) {\n      setEvents(prevEvents => [...prevEvents, {\n        id: String(prevEvents.length + 1),\n        title,\n        start: selectInfo.startStr,\n        end: selectInfo.endStr,\n        resourceId: selectInfo.resource.id\n      }]);\n    }\n  };\n  const handleEventClick = clickInfo => {\n    if (window.confirm(`Are you sure you want to delete '${clickInfo.event.title}'?`)) {\n      clickInfo.event.remove();\n    }\n  };\n  const handleEventDrop = info => {\n    const updatedEvents = events.map(event => {\n      if (event.id === info.event.id) {\n        return {\n          ...event,\n          start: info.event.startStr,\n          end: info.event.endStr,\n          resourceId: info.event.getResources()[0].id\n        };\n      }\n      return event;\n    });\n    setEvents(updatedEvents);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calendar-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"new-booking-btn\",\n          children: \"+ New Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n          plugins: [resourceTimelinePlugin, interactionPlugin],\n          initialView: \"resourceTimelineDay\",\n          resources: resources,\n          events: events,\n          select: handleDateSelect,\n          eventClick: handleEventClick,\n          eventDrop: handleEventDrop,\n          editable: true,\n          headerToolbar: {\n            left: 'prev,next today',\n            center: 'title',\n            right: 'resourceTimelineDay'\n          },\n          selectable: true,\n          resourceAreaWidth: \"250px\",\n          height: \"auto\",\n          slotDuration: \"00:30:00\",\n          resourceGroupField: \"title\",\n          resourceAreaHeaderContent: \"Resources\",\n          dayCellClassNames: \"timeline-cell\",\n          resourceLabelClassNames: \"resource-label\",\n          resourceAreaColumns: [{\n            field: 'title',\n            headerContent: 'Resources'\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(Scheduler, \"fLmbTrBMmzgTAP4CL2d4lXJaAxc=\", false, function () {\n  return [useAppContext];\n});\n_c = Scheduler;\nexport default Scheduler;\nvar _c;\n$RefreshReg$(_c, \"Scheduler\");","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","resourceTimelinePlugin","interactionPlugin","useAppContext","jsxDEV","_jsxDEV","Scheduler","_s","staffList","aircraftList","events","setEvents","id","title","start","end","resourceId","resources","children","map","staff","firstName","lastName","aircraft","type","registration","rows","document","querySelectorAll","forEach","row","style","borderBottom","handleDateSelect","selectInfo","prompt","calendarApi","view","calendar","unselect","prevEvents","String","length","startStr","endStr","resource","handleEventClick","clickInfo","window","confirm","event","remove","handleEventDrop","info","updatedEvents","getResources","className","fileName","_jsxFileName","lineNumber","columnNumber","plugins","initialView","select","eventClick","eventDrop","editable","headerToolbar","left","center","right","selectable","resourceAreaWidth","height","slotDuration","resourceGroupField","resourceAreaHeaderContent","dayCellClassNames","resourceLabelClassNames","resourceAreaColumns","field","headerContent","_c","$RefreshReg$"],"sources":["C:/Users/GGPC/aeroclub-bookings/src/pages/Scheduler/Scheduler.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport resourceTimelinePlugin from '@fullcalendar/resource-timeline';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport { useAppContext } from '../../context/AppContext';\r\nimport './Scheduler.css';\r\n\r\nconst Scheduler = () => {\r\n  const { staffList, aircraftList } = useAppContext();\r\n  const [events, setEvents] = useState([\r\n    {\r\n      id: '1',\r\n      title: 'Flight Training',\r\n      start: '2024-12-15T09:00:00',\r\n      end: '2024-12-15T12:00:00',\r\n      resourceId: 'staff1',\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Aircraft Maintenance',\r\n      start: '2024-12-15T13:00:00',\r\n      end: '2024-12-15T15:00:00',\r\n      resourceId: 'airplane1',\r\n    },\r\n  ]);\r\n\r\n  const resources = [\r\n    { \r\n      id: 'instructors-header',\r\n      title: 'Flight Instructors',\r\n      children: staffList.map(staff => ({\r\n        id: staff.id,\r\n        title: `Capt. ${staff.firstName} ${staff.lastName}`\r\n      }))\r\n    },\r\n    { \r\n      id: 'aircraft-header',\r\n      title: 'Aircraft Fleet',\r\n      children: aircraftList.map(aircraft => ({\r\n        id: aircraft.id,\r\n        title: `${aircraft.type} (${aircraft.registration})`\r\n      }))\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const rows = document.querySelectorAll('.fc-timeline-body tr');\r\n    rows.forEach(row => {\r\n      row.style.borderBottom = '1px solid #ddd';\r\n    });\r\n  }, []);\r\n\r\n  const handleDateSelect = (selectInfo) => {\r\n    const title = prompt('Enter booking title:');\r\n    const calendarApi = selectInfo.view.calendar;\r\n\r\n    calendarApi.unselect();\r\n\r\n    if (title) {\r\n      setEvents((prevEvents) => [\r\n        ...prevEvents,\r\n        {\r\n          id: String(prevEvents.length + 1),\r\n          title,\r\n          start: selectInfo.startStr,\r\n          end: selectInfo.endStr,\r\n          resourceId: selectInfo.resource.id,\r\n        },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const handleEventClick = (clickInfo) => {\r\n    if (window.confirm(`Are you sure you want to delete '${clickInfo.event.title}'?`)) {\r\n      clickInfo.event.remove();\r\n    }\r\n  };\r\n\r\n  const handleEventDrop = (info) => {\r\n    const updatedEvents = events.map(event => {\r\n      if (event.id === info.event.id) {\r\n        return {\r\n          ...event,\r\n          start: info.event.startStr,\r\n          end: info.event.endStr,\r\n          resourceId: info.event.getResources()[0].id,\r\n        };\r\n      }\r\n      return event;\r\n    });\r\n    setEvents(updatedEvents);\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-content\">\r\n      <div className=\"calendar-container\">\r\n        <div className=\"header\">\r\n          <h1>Schedule</h1>\r\n          <button className=\"new-booking-btn\">+ New Booking</button>\r\n        </div>\r\n        <div className=\"calendar-wrapper\">\r\n          <FullCalendar\r\n            plugins={[resourceTimelinePlugin, interactionPlugin]}\r\n            initialView=\"resourceTimelineDay\"\r\n            resources={resources}\r\n            events={events}\r\n            select={handleDateSelect}\r\n            eventClick={handleEventClick}\r\n            eventDrop={handleEventDrop}\r\n            editable={true}\r\n            headerToolbar={{\r\n              left: 'prev,next today',\r\n              center: 'title',\r\n              right: 'resourceTimelineDay',\r\n            }}\r\n            selectable={true}\r\n            resourceAreaWidth=\"250px\"\r\n            height=\"auto\"\r\n            slotDuration=\"00:30:00\"\r\n            resourceGroupField=\"title\"\r\n            resourceAreaHeaderContent=\"Resources\"\r\n            dayCellClassNames=\"timeline-cell\"\r\n            resourceLabelClassNames=\"resource-label\"\r\n            resourceAreaColumns={[\r\n              {\r\n                field: 'title',\r\n                headerContent: 'Resources',\r\n              }\r\n            ]}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scheduler;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,OAAOC,sBAAsB,MAAM,iCAAiC;AACpE,OAAOC,iBAAiB,MAAM,2BAA2B;AACzD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC,SAAS;IAAEC;EAAa,CAAC,GAAGN,aAAa,CAAC,CAAC;EACnD,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,CACnC;IACEc,EAAE,EAAE,GAAG;IACPC,KAAK,EAAE,iBAAiB;IACxBC,KAAK,EAAE,qBAAqB;IAC5BC,GAAG,EAAE,qBAAqB;IAC1BC,UAAU,EAAE;EACd,CAAC,EACD;IACEJ,EAAE,EAAE,GAAG;IACPC,KAAK,EAAE,sBAAsB;IAC7BC,KAAK,EAAE,qBAAqB;IAC5BC,GAAG,EAAE,qBAAqB;IAC1BC,UAAU,EAAE;EACd,CAAC,CACF,CAAC;EAEF,MAAMC,SAAS,GAAG,CAChB;IACEL,EAAE,EAAE,oBAAoB;IACxBC,KAAK,EAAE,oBAAoB;IAC3BK,QAAQ,EAAEV,SAAS,CAACW,GAAG,CAACC,KAAK,KAAK;MAChCR,EAAE,EAAEQ,KAAK,CAACR,EAAE;MACZC,KAAK,EAAE,SAASO,KAAK,CAACC,SAAS,IAAID,KAAK,CAACE,QAAQ;IACnD,CAAC,CAAC;EACJ,CAAC,EACD;IACEV,EAAE,EAAE,iBAAiB;IACrBC,KAAK,EAAE,gBAAgB;IACvBK,QAAQ,EAAET,YAAY,CAACU,GAAG,CAACI,QAAQ,KAAK;MACtCX,EAAE,EAAEW,QAAQ,CAACX,EAAE;MACfC,KAAK,EAAE,GAAGU,QAAQ,CAACC,IAAI,KAAKD,QAAQ,CAACE,YAAY;IACnD,CAAC,CAAC;EACJ,CAAC,CACF;EAED1B,SAAS,CAAC,MAAM;IACd,MAAM2B,IAAI,GAAGC,QAAQ,CAACC,gBAAgB,CAAC,sBAAsB,CAAC;IAC9DF,IAAI,CAACG,OAAO,CAACC,GAAG,IAAI;MAClBA,GAAG,CAACC,KAAK,CAACC,YAAY,GAAG,gBAAgB;IAC3C,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,gBAAgB,GAAIC,UAAU,IAAK;IACvC,MAAMrB,KAAK,GAAGsB,MAAM,CAAC,sBAAsB,CAAC;IAC5C,MAAMC,WAAW,GAAGF,UAAU,CAACG,IAAI,CAACC,QAAQ;IAE5CF,WAAW,CAACG,QAAQ,CAAC,CAAC;IAEtB,IAAI1B,KAAK,EAAE;MACTF,SAAS,CAAE6B,UAAU,IAAK,CACxB,GAAGA,UAAU,EACb;QACE5B,EAAE,EAAE6B,MAAM,CAACD,UAAU,CAACE,MAAM,GAAG,CAAC,CAAC;QACjC7B,KAAK;QACLC,KAAK,EAAEoB,UAAU,CAACS,QAAQ;QAC1B5B,GAAG,EAAEmB,UAAU,CAACU,MAAM;QACtB5B,UAAU,EAAEkB,UAAU,CAACW,QAAQ,CAACjC;MAClC,CAAC,CACF,CAAC;IACJ;EACF,CAAC;EAED,MAAMkC,gBAAgB,GAAIC,SAAS,IAAK;IACtC,IAAIC,MAAM,CAACC,OAAO,CAAC,oCAAoCF,SAAS,CAACG,KAAK,CAACrC,KAAK,IAAI,CAAC,EAAE;MACjFkC,SAAS,CAACG,KAAK,CAACC,MAAM,CAAC,CAAC;IAC1B;EACF,CAAC;EAED,MAAMC,eAAe,GAAIC,IAAI,IAAK;IAChC,MAAMC,aAAa,GAAG5C,MAAM,CAACS,GAAG,CAAC+B,KAAK,IAAI;MACxC,IAAIA,KAAK,CAACtC,EAAE,KAAKyC,IAAI,CAACH,KAAK,CAACtC,EAAE,EAAE;QAC9B,OAAO;UACL,GAAGsC,KAAK;UACRpC,KAAK,EAAEuC,IAAI,CAACH,KAAK,CAACP,QAAQ;UAC1B5B,GAAG,EAAEsC,IAAI,CAACH,KAAK,CAACN,MAAM;UACtB5B,UAAU,EAAEqC,IAAI,CAACH,KAAK,CAACK,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC3C;QAC3C,CAAC;MACH;MACA,OAAOsC,KAAK;IACd,CAAC,CAAC;IACFvC,SAAS,CAAC2C,aAAa,CAAC;EAC1B,CAAC;EAED,oBACEjD,OAAA;IAAKmD,SAAS,EAAC,cAAc;IAAAtC,QAAA,eAC3Bb,OAAA;MAAKmD,SAAS,EAAC,oBAAoB;MAAAtC,QAAA,gBACjCb,OAAA;QAAKmD,SAAS,EAAC,QAAQ;QAAAtC,QAAA,gBACrBb,OAAA;UAAAa,QAAA,EAAI;QAAQ;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACjBvD,OAAA;UAAQmD,SAAS,EAAC,iBAAiB;UAAAtC,QAAA,EAAC;QAAa;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eACNvD,OAAA;QAAKmD,SAAS,EAAC,kBAAkB;QAAAtC,QAAA,eAC/Bb,OAAA,CAACL,YAAY;UACX6D,OAAO,EAAE,CAAC5D,sBAAsB,EAAEC,iBAAiB,CAAE;UACrD4D,WAAW,EAAC,qBAAqB;UACjC7C,SAAS,EAAEA,SAAU;UACrBP,MAAM,EAAEA,MAAO;UACfqD,MAAM,EAAE9B,gBAAiB;UACzB+B,UAAU,EAAElB,gBAAiB;UAC7BmB,SAAS,EAAEb,eAAgB;UAC3Bc,QAAQ,EAAE,IAAK;UACfC,aAAa,EAAE;YACbC,IAAI,EAAE,iBAAiB;YACvBC,MAAM,EAAE,OAAO;YACfC,KAAK,EAAE;UACT,CAAE;UACFC,UAAU,EAAE,IAAK;UACjBC,iBAAiB,EAAC,OAAO;UACzBC,MAAM,EAAC,MAAM;UACbC,YAAY,EAAC,UAAU;UACvBC,kBAAkB,EAAC,OAAO;UAC1BC,yBAAyB,EAAC,WAAW;UACrCC,iBAAiB,EAAC,eAAe;UACjCC,uBAAuB,EAAC,gBAAgB;UACxCC,mBAAmB,EAAE,CACnB;YACEC,KAAK,EAAE,OAAO;YACdC,aAAa,EAAE;UACjB,CAAC;QACD;UAAAxB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrD,EAAA,CA/HID,SAAS;EAAA,QACuBH,aAAa;AAAA;AAAA+E,EAAA,GAD7C5E,SAAS;AAiIf,eAAeA,SAAS;AAAC,IAAA4E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}