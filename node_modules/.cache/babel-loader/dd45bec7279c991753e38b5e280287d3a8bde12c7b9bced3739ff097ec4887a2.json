{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _moment = _interopRequireDefault(require(\"moment\"));\nvar _Items = _interopRequireDefault(require(\"./items/Items\"));\nvar _Sidebar = _interopRequireDefault(require(\"./layout/Sidebar\"));\nvar _Columns = _interopRequireDefault(require(\"./columns/Columns\"));\nvar _GroupRows = _interopRequireDefault(require(\"./row/GroupRows\"));\nvar _ScrollElement = _interopRequireDefault(require(\"./scroll/ScrollElement\"));\nvar _MarkerCanvas = _interopRequireDefault(require(\"./markers/MarkerCanvas\"));\nvar _window = _interopRequireDefault(require(\"../resize-detector/window\"));\nvar _calendar = require(\"./utility/calendar\");\nvar _generic = require(\"./utility/generic\");\nvar _defaultConfig = require(\"./default-config\");\nvar _TimelineStateContext = require(\"./timeline/TimelineStateContext\");\nvar _TimelineMarkersContext = require(\"./markers/TimelineMarkersContext\");\nvar _HeadersContext = require(\"./headers/HeadersContext\");\nvar _TimelineHeaders = _interopRequireDefault(require(\"./headers/TimelineHeaders\"));\nvar _DateHeader = _interopRequireDefault(require(\"./headers/DateHeader\"));\nvar _SidebarHeader = _interopRequireDefault(require(\"./headers/SidebarHeader\"));\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n    newObj[\"default\"] = obj;\n    return newObj;\n  }\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar ReactCalendarTimeline = /*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactCalendarTimeline, _Component);\n  _createClass(ReactCalendarTimeline, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n      return {\n        getTimelineContext: function getTimelineContext() {\n          return _this2.getTimelineContext();\n        }\n      };\n    }\n  }]);\n  function ReactCalendarTimeline(_props) {\n    var _this;\n    _classCallCheck(this, ReactCalendarTimeline);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactCalendarTimeline).call(this, _props));\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineContext\", function () {\n      var _this$state = _this.state,\n        width = _this$state.width,\n        visibleTimeStart = _this$state.visibleTimeStart,\n        visibleTimeEnd = _this$state.visibleTimeEnd,\n        canvasTimeStart = _this$state.canvasTimeStart,\n        canvasTimeEnd = _this$state.canvasTimeEnd;\n      return {\n        timelineWidth: width,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd\n      };\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resize\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n      var _this$container$getBo = _this.container.getBoundingClientRect(),\n        containerWidth = _this$container$getBo.width;\n      var width = containerWidth - props.sidebarWidth - props.rightSidebarWidth;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width);\n      var _stackTimelineItems = (0, _calendar.stackTimelineItems)(props.items, props.groups, canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, props.keys, props.lineHeight, props.itemHeightRatio, props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n        dimensionItems = _stackTimelineItems.dimensionItems,\n        height = _stackTimelineItems.height,\n        groupHeights = _stackTimelineItems.groupHeights,\n        groupTops = _stackTimelineItems.groupTops; // this is needed by dragItem since it uses pageY from the drag events\n      // if this was in the context of the scrollElement, this would not be necessary\n\n      _this.setState({\n        width: width,\n        dimensionItems: dimensionItems,\n        height: height,\n        groupHeights: groupHeights,\n        groupTops: groupTops\n      });\n      _this.scrollComponent.scrollLeft = width;\n      _this.scrollHeaderRef.scrollLeft = width;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function (scrollX) {\n      var width = _this.state.width;\n      var canvasTimeStart = _this.state.canvasTimeStart;\n      var zoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var visibleTimeStart = canvasTimeStart + zoom * scrollX / width;\n      if (_this.state.visibleTimeStart !== visibleTimeStart || _this.state.visibleTimeEnd !== visibleTimeStart + zoom) {\n        _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateScrollCanvas\", function (visibleTimeStart, visibleTimeEnd, forceUpdateDimensions) {\n      var items = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _this.props.items;\n      var groups = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _this.props.groups;\n      _this.setState((0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdateDimensions, items, groups, _this.props, _this.state));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleWheelZoom\", function (speed, xPosition, deltaY) {\n      _this.changeZoom(1.0 + speed * deltaY / 500, xPosition / _this.state.width);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"changeZoom\", function (scale) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      var _this$props = _this.props,\n        minZoom = _this$props.minZoom,\n        maxZoom = _this$props.maxZoom;\n      var oldZoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var newZoom = Math.min(Math.max(Math.round(oldZoom * scale), minZoom), maxZoom); // min 1 min, max 20 years\n\n      var newVisibleTimeStart = Math.round(_this.state.visibleTimeStart + (oldZoom - newZoom) * offset);\n      _this.props.onTimeChange(newVisibleTimeStart, newVisibleTimeStart + newZoom, _this.updateScrollCanvas);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"showPeriod\", function (from, to) {\n      var visibleTimeStart = from.valueOf();\n      var visibleTimeEnd = to.valueOf();\n      var zoom = visibleTimeEnd - visibleTimeStart; // can't zoom in more than to show one hour\n\n      if (zoom < 360000) {\n        return;\n      }\n      _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (item, clickType, e) {\n      if (_this.isItemSelected(item) || _this.props.itemTouchSendsClick && clickType === 'touch') {\n        if (item && _this.props.onItemClick) {\n          var time = _this.timeFromItemEvent(e);\n          _this.props.onItemClick(item, e, time);\n        }\n      } else {\n        _this.setState({\n          selectedItem: item\n        });\n        if (item && _this.props.onItemSelect) {\n          var _time = _this.timeFromItemEvent(e);\n          _this.props.onItemSelect(item, e, _time);\n        } else if (item === null && _this.props.onItemDeselect) {\n          _this.props.onItemDeselect(e); // this isnt in the docs. Is this function even used?\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"doubleClickItem\", function (item, e) {\n      if (_this.props.onItemDoubleClick) {\n        var time = _this.timeFromItemEvent(e);\n        _this.props.onItemDoubleClick(item, e, time);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"contextMenuClickItem\", function (item, e) {\n      if (_this.props.onItemContextMenu) {\n        var time = _this.timeFromItemEvent(e);\n        _this.props.onItemContextMenu(item, e, time);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getTimeFromRowClickEvent\", function (e) {\n      var dragSnap = _this.props.dragSnap;\n      var _this$state2 = _this.state,\n        width = _this$state2.width,\n        canvasTimeStart = _this$state2.canvasTimeStart,\n        canvasTimeEnd = _this$state2.canvasTimeEnd; // this gives us distance from left of row element, so event is in\n      // context of the row element, not client or page\n\n      var offsetX = e.nativeEvent.offsetX;\n      var time = (0, _calendar.calculateTimeForXPosition)(canvasTimeStart, canvasTimeEnd, (0, _calendar.getCanvasWidth)(width), offsetX);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"timeFromItemEvent\", function (e) {\n      var _this$state3 = _this.state,\n        width = _this$state3.width,\n        visibleTimeStart = _this$state3.visibleTimeStart,\n        visibleTimeEnd = _this$state3.visibleTimeEnd;\n      var dragSnap = _this.props.dragSnap;\n      var scrollComponent = _this.scrollComponent;\n      var _scrollComponent$getB = scrollComponent.getBoundingClientRect(),\n        scrollX = _scrollComponent$getB.left;\n      var xRelativeToTimeline = e.clientX - scrollX;\n      var relativeItemPosition = xRelativeToTimeline / width;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var timeOffset = relativeItemPosition * zoom;\n      var time = Math.round(visibleTimeStart + timeOffset);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dragItem\", function (item, dragTime, newGroupOrder) {\n      var newGroup = _this.props.groups[newGroupOrder];\n      var keys = _this.props.keys;\n      _this.setState({\n        draggingItem: item,\n        dragTime: dragTime,\n        newGroupOrder: newGroupOrder,\n        dragGroupTitle: newGroup ? (0, _generic._get)(newGroup, keys.groupLabelKey) : ''\n      });\n      _this.updatingItem({\n        eventType: 'move',\n        itemId: item,\n        time: dragTime,\n        newGroupOrder: newGroupOrder\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"dropItem\", function (item, dragTime, newGroupOrder) {\n      _this.setState({\n        draggingItem: null,\n        dragTime: null,\n        dragGroupTitle: null\n      });\n      if (_this.props.onItemMove) {\n        _this.props.onItemMove(item, dragTime, newGroupOrder);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resizingItem\", function (item, resizeTime, edge) {\n      _this.setState({\n        resizingItem: item,\n        resizingEdge: edge,\n        resizeTime: resizeTime\n      });\n      _this.updatingItem({\n        eventType: 'resize',\n        itemId: item,\n        time: resizeTime,\n        edge: edge\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"resizedItem\", function (item, resizeTime, edge, timeDelta) {\n      _this.setState({\n        resizingItem: null,\n        resizingEdge: null,\n        resizeTime: null\n      });\n      if (_this.props.onItemResize && timeDelta !== 0) {\n        _this.props.onItemResize(item, resizeTime, edge);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updatingItem\", function (_ref) {\n      var eventType = _ref.eventType,\n        itemId = _ref.itemId,\n        time = _ref.time,\n        edge = _ref.edge,\n        newGroupOrder = _ref.newGroupOrder;\n      if (_this.props.onItemDrag) {\n        _this.props.onItemDrag({\n          eventType: eventType,\n          itemId: itemId,\n          time: time,\n          edge: edge,\n          newGroupOrder: newGroupOrder\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRowClick\", function (e, rowIndex) {\n      // shouldnt this be handled by the user, as far as when to deselect an item?\n      if (_this.hasSelectedItem()) {\n        _this.selectItem(null);\n      }\n      if (_this.props.onCanvasClick == null) return;\n      var time = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      _this.props.onCanvasClick(groupId, time, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleRowDoubleClick\", function (e, rowIndex) {\n      if (_this.props.onCanvasDoubleClick == null) return;\n      var time = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      _this.props.onCanvasDoubleClick(groupId, time, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleScrollContextMenu\", function (e, rowIndex) {\n      if (_this.props.onCanvasContextMenu == null) return;\n      var timePosition = _this.getTimeFromRowClickEvent(e);\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n      if (_this.props.onCanvasContextMenu) {\n        e.preventDefault();\n        _this.props.onCanvasContextMenu(groupId, timePosition, e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleHeaderRef\", function (el) {\n      _this.scrollHeaderRef = el;\n      _this.props.headerRef(el);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isTimelineHeader\", function (child) {\n      if (child.type === undefined) return false;\n      return child.type.secretKey === _TimelineHeaders[\"default\"].secretKey;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderHeaders\", function () {\n      if (_this.props.children) {\n        var headerRenderer;\n        _react[\"default\"].Children.map(_this.props.children, function (child) {\n          if (_this.isTimelineHeader(child)) {\n            headerRenderer = child;\n          }\n        });\n        if (headerRenderer) {\n          return headerRenderer;\n        }\n      }\n      return _react[\"default\"].createElement(_TimelineHeaders[\"default\"], null, _react[\"default\"].createElement(_DateHeader[\"default\"], {\n        unit: \"primaryHeader\"\n      }), _react[\"default\"].createElement(_DateHeader[\"default\"], null));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getScrollElementRef\", function (el) {\n      _this.props.scrollRef(el);\n      _this.scrollComponent = el;\n    });\n    _this.getSelected = _this.getSelected.bind(_assertThisInitialized(_this));\n    _this.hasSelectedItem = _this.hasSelectedItem.bind(_assertThisInitialized(_this));\n    _this.isItemSelected = _this.isItemSelected.bind(_assertThisInitialized(_this));\n    var _visibleTimeStart = null;\n    var _visibleTimeEnd = null;\n    if (_this.props.defaultTimeStart && _this.props.defaultTimeEnd) {\n      _visibleTimeStart = _this.props.defaultTimeStart.valueOf();\n      _visibleTimeEnd = _this.props.defaultTimeEnd.valueOf();\n    } else if (_this.props.visibleTimeStart && _this.props.visibleTimeEnd) {\n      _visibleTimeStart = _this.props.visibleTimeStart;\n      _visibleTimeEnd = _this.props.visibleTimeEnd;\n    } else {\n      //throwing an error because neither default or visible time props provided\n      throw new Error('You must provide either \"defaultTimeStart\" and \"defaultTimeEnd\" or \"visibleTimeStart\" and \"visibleTimeEnd\" to initialize the Timeline');\n    }\n    var _getCanvasBoundariesF = (0, _calendar.getCanvasBoundariesFromVisibleTime)(_visibleTimeStart, _visibleTimeEnd),\n      _getCanvasBoundariesF2 = _slicedToArray(_getCanvasBoundariesF, 2),\n      _canvasTimeStart = _getCanvasBoundariesF2[0],\n      _canvasTimeEnd = _getCanvasBoundariesF2[1];\n    _this.state = {\n      width: 1000,\n      visibleTimeStart: _visibleTimeStart,\n      visibleTimeEnd: _visibleTimeEnd,\n      canvasTimeStart: _canvasTimeStart,\n      canvasTimeEnd: _canvasTimeEnd,\n      selectedItem: null,\n      dragTime: null,\n      dragGroupTitle: null,\n      resizeTime: null,\n      resizingItem: null,\n      resizingEdge: null\n    };\n    var _canvasWidth = (0, _calendar.getCanvasWidth)(_this.state.width);\n    var _stackTimelineItems2 = (0, _calendar.stackTimelineItems)(_props.items, _props.groups, _canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, _props.keys, _props.lineHeight, _props.itemHeightRatio, _props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n      _dimensionItems = _stackTimelineItems2.dimensionItems,\n      _height = _stackTimelineItems2.height,\n      _groupHeights = _stackTimelineItems2.groupHeights,\n      _groupTops = _stackTimelineItems2.groupTops;\n    /* eslint-disable react/no-direct-mutation-state */\n\n    _this.state.dimensionItems = _dimensionItems;\n    _this.state.height = _height;\n    _this.state.groupHeights = _groupHeights;\n    _this.state.groupTops = _groupTops;\n    /* eslint-enable */\n\n    return _this;\n  }\n  _createClass(ReactCalendarTimeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resize(this.props);\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.addListener(this);\n      }\n      _window[\"default\"].addListener(this);\n      this.lastTouchDistance = null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.removeListener(this);\n      }\n      _window[\"default\"].removeListener(this);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart;\n      var oldZoom = prevState.visibleTimeEnd - prevState.visibleTimeStart; // are we changing zoom? Report it!\n\n      if (this.props.onZoom && newZoom !== oldZoom) {\n        this.props.onZoom(this.getTimelineContext());\n      } // The bounds have changed? Report it!\n\n      if (this.props.onBoundsChange && this.state.canvasTimeStart !== prevState.canvasTimeStart) {\n        this.props.onBoundsChange(this.state.canvasTimeStart, this.state.canvasTimeStart + newZoom * 3);\n      } // Check the scroll is correct\n\n      var scrollLeft = Math.round(this.state.width * (this.state.visibleTimeStart - this.state.canvasTimeStart) / newZoom);\n      var componentScrollLeft = Math.round(prevState.width * (prevState.visibleTimeStart - prevState.canvasTimeStart) / oldZoom);\n      if (componentScrollLeft !== scrollLeft) {\n        this.scrollComponent.scrollLeft = scrollLeft;\n        this.scrollHeaderRef.scrollLeft = scrollLeft;\n      }\n    }\n  }, {\n    key: \"columns\",\n    value: function columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height) {\n      return _react[\"default\"].createElement(_Columns[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        minUnit: minUnit,\n        timeSteps: timeSteps,\n        height: height,\n        verticalLineClassNamesForTime: this.props.verticalLineClassNamesForTime\n      });\n    }\n  }, {\n    key: \"rows\",\n    value: function rows(canvasWidth, groupHeights, groups) {\n      return _react[\"default\"].createElement(_GroupRows[\"default\"], {\n        groups: groups,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        groupHeights: groupHeights,\n        clickTolerance: this.props.clickTolerance,\n        onRowClick: this.handleRowClick,\n        onRowDoubleClick: this.handleRowDoubleClick,\n        horizontalLineClassNamesForGroup: this.props.horizontalLineClassNamesForGroup,\n        onRowContextClick: this.handleScrollContextMenu\n      });\n    }\n  }, {\n    key: \"items\",\n    value: function items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops) {\n      return _react[\"default\"].createElement(_Items[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        dimensionItems: dimensionItems,\n        groupTops: groupTops,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        selectedItem: this.state.selectedItem,\n        dragSnap: this.props.dragSnap,\n        minResizeWidth: this.props.minResizeWidth,\n        canChangeGroup: this.props.canChangeGroup,\n        canMove: this.props.canMove,\n        canResize: this.props.canResize,\n        useResizeHandle: this.props.useResizeHandle,\n        canSelect: this.props.canSelect,\n        moveResizeValidator: this.props.moveResizeValidator,\n        itemSelect: this.selectItem,\n        itemDrag: this.dragItem,\n        itemDrop: this.dropItem,\n        onItemDoubleClick: this.doubleClickItem,\n        onItemContextMenu: this.contextMenuClickItem,\n        itemResizing: this.resizingItem,\n        itemResized: this.resizedItem,\n        itemRenderer: this.props.itemRenderer,\n        selected: this.props.selected,\n        scrollRef: this.scrollComponent\n      });\n    }\n  }, {\n    key: \"sidebar\",\n    value: function sidebar(height, groupHeights) {\n      var sidebarWidth = this.props.sidebarWidth;\n      return sidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        groupRenderer: this.props.groupRenderer,\n        keys: this.props.keys,\n        width: sidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n  }, {\n    key: \"rightSidebar\",\n    value: function rightSidebar(height, groupHeights) {\n      var rightSidebarWidth = this.props.rightSidebarWidth;\n      return rightSidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupRenderer: this.props.groupRenderer,\n        isRightSidebar: true,\n        width: rightSidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n    /**\n     * check if child of type TimelineHeader\n     * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types \n     */\n  }, {\n    key: \"childrenWithProps\",\n    value: function childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps) {\n      var _this3 = this;\n      if (!this.props.children) {\n        return null;\n      } // convert to an array and remove the nulls\n\n      var childArray = Array.isArray(this.props.children) ? this.props.children.filter(function (c) {\n        return c;\n      }) : [this.props.children];\n      var childProps = {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        dimensionItems: dimensionItems,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupHeights: groupHeights,\n        groupTops: groupTops,\n        selected: this.getSelected(),\n        height: height,\n        minUnit: minUnit,\n        timeSteps: timeSteps\n      };\n      return _react[\"default\"].Children.map(childArray, function (child) {\n        if (!_this3.isTimelineHeader(child)) {\n          return _react[\"default\"].cloneElement(child, childProps);\n        } else {\n          return null;\n        }\n      });\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.state.selectedItem && !this.props.selected ? [this.state.selectedItem] : this.props.selected || [];\n    }\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      if (!Array.isArray(this.props.selected)) return !!this.state.selectedItem;\n      return this.props.selected.length > 0;\n    }\n  }, {\n    key: \"isItemSelected\",\n    value: function isItemSelected(itemId) {\n      var selectedItems = this.getSelected();\n      return selectedItems.some(function (i) {\n        return i === itemId;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$props2 = this.props,\n        items = _this$props2.items,\n        groups = _this$props2.groups,\n        sidebarWidth = _this$props2.sidebarWidth,\n        rightSidebarWidth = _this$props2.rightSidebarWidth,\n        timeSteps = _this$props2.timeSteps,\n        traditionalZoom = _this$props2.traditionalZoom;\n      var _this$state4 = this.state,\n        draggingItem = _this$state4.draggingItem,\n        resizingItem = _this$state4.resizingItem,\n        width = _this$state4.width,\n        visibleTimeStart = _this$state4.visibleTimeStart,\n        visibleTimeEnd = _this$state4.visibleTimeEnd,\n        canvasTimeStart = _this$state4.canvasTimeStart,\n        canvasTimeEnd = _this$state4.canvasTimeEnd;\n      var _this$state5 = this.state,\n        dimensionItems = _this$state5.dimensionItems,\n        height = _this$state5.height,\n        groupHeights = _this$state5.groupHeights,\n        groupTops = _this$state5.groupTops;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width);\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      var isInteractingWithItem = !!draggingItem || !!resizingItem;\n      if (isInteractingWithItem) {\n        var stackResults = (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, this.state.canvasTimeStart, this.state.canvasTimeEnd, this.props.keys, this.props.lineHeight, this.props.itemHeightRatio, this.props.stackItems, this.state.draggingItem, this.state.resizingItem, this.state.dragTime, this.state.resizingEdge, this.state.resizeTime, this.state.newGroupOrder);\n        dimensionItems = stackResults.dimensionItems;\n        height = stackResults.height;\n        groupHeights = stackResults.groupHeights;\n        groupTops = stackResults.groupTops;\n      }\n      var outerComponentStyle = {\n        height: \"\".concat(height, \"px\")\n      };\n      return _react[\"default\"].createElement(_TimelineStateContext.TimelineStateProvider, {\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        showPeriod: this.showPeriod,\n        timelineUnit: minUnit,\n        timelineWidth: this.state.width\n      }, _react[\"default\"].createElement(_TimelineMarkersContext.TimelineMarkersProvider, null, _react[\"default\"].createElement(_HeadersContext.TimelineHeadersProvider, {\n        registerScroll: this.handleHeaderRef,\n        timeSteps: timeSteps,\n        leftSidebarWidth: this.props.sidebarWidth,\n        rightSidebarWidth: this.props.rightSidebarWidth\n      }, _react[\"default\"].createElement(\"div\", {\n        style: this.props.style,\n        ref: function ref(el) {\n          return _this4.container = el;\n        },\n        className: \"react-calendar-timeline \".concat(this.props.className)\n      }, this.renderHeaders(), _react[\"default\"].createElement(\"div\", {\n        style: outerComponentStyle,\n        className: \"rct-outer\"\n      }, sidebarWidth > 0 ? this.sidebar(height, groupHeights) : null, _react[\"default\"].createElement(_ScrollElement[\"default\"], {\n        scrollRef: this.getScrollElementRef,\n        width: width,\n        height: height,\n        onZoom: this.changeZoom,\n        onWheelZoom: this.handleWheelZoom,\n        traditionalZoom: traditionalZoom,\n        onScroll: this.onScroll,\n        isInteractingWithItem: isInteractingWithItem\n      }, _react[\"default\"].createElement(_MarkerCanvas[\"default\"], null, this.columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height), this.rows(canvasWidth, groupHeights, groups), this.items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops), this.childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps))), rightSidebarWidth > 0 ? this.rightSidebar(height, groupHeights) : null)))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var visibleTimeStart = nextProps.visibleTimeStart,\n        visibleTimeEnd = nextProps.visibleTimeEnd,\n        items = nextProps.items,\n        groups = nextProps.groups; // This is a gross hack pushing items and groups in to state only to allow\n      // For the forceUpdate check\n\n      var derivedState = {\n        items: items,\n        groups: groups // if the items or groups have changed we must re-render\n      };\n      var forceUpdate = items !== prevState.items || groups !== prevState.groups; // We are a controlled component\n\n      if (visibleTimeStart && visibleTimeEnd) {\n        // Get the new canvas position\n        Object.assign(derivedState, (0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdate, items, groups, nextProps, prevState));\n      } else if (forceUpdate) {\n        // Calculate new item stack position as canvas may have changed\n        var canvasWidth = (0, _calendar.getCanvasWidth)(prevState.width);\n        Object.assign(derivedState, (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, prevState.canvasTimeStart, prevState.canvasTimeEnd, nextProps.keys, nextProps.lineHeight, nextProps.itemHeightRatio, nextProps.stackItems, prevState.draggingItem, prevState.resizingItem, prevState.dragTime, prevState.resizingEdge, prevState.resizeTime, prevState.newGroupOrder));\n      }\n      return derivedState;\n    }\n  }]);\n  return ReactCalendarTimeline;\n}(_react.Component);\nexports[\"default\"] = ReactCalendarTimeline;\n_defineProperty(ReactCalendarTimeline, \"propTypes\", {\n  groups: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  items: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  sidebarWidth: _propTypes[\"default\"].number,\n  rightSidebarWidth: _propTypes[\"default\"].number,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  stickyHeader: _propTypes[\"default\"].bool,\n  lineHeight: _propTypes[\"default\"].number,\n  itemHeightRatio: _propTypes[\"default\"].number,\n  minZoom: _propTypes[\"default\"].number,\n  maxZoom: _propTypes[\"default\"].number,\n  clickTolerance: _propTypes[\"default\"].number,\n  canChangeGroup: _propTypes[\"default\"].bool,\n  canMove: _propTypes[\"default\"].bool,\n  canResize: _propTypes[\"default\"].oneOf([true, false, 'left', 'right', 'both']),\n  useResizeHandle: _propTypes[\"default\"].bool,\n  canSelect: _propTypes[\"default\"].bool,\n  stackItems: _propTypes[\"default\"].bool,\n  traditionalZoom: _propTypes[\"default\"].bool,\n  itemTouchSendsClick: _propTypes[\"default\"].bool,\n  horizontalLineClassNamesForGroup: _propTypes[\"default\"].func,\n  onItemMove: _propTypes[\"default\"].func,\n  onItemResize: _propTypes[\"default\"].func,\n  onItemClick: _propTypes[\"default\"].func,\n  onItemSelect: _propTypes[\"default\"].func,\n  onItemDeselect: _propTypes[\"default\"].func,\n  onCanvasClick: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  onItemContextMenu: _propTypes[\"default\"].func,\n  onCanvasDoubleClick: _propTypes[\"default\"].func,\n  onCanvasContextMenu: _propTypes[\"default\"].func,\n  onZoom: _propTypes[\"default\"].func,\n  onItemDrag: _propTypes[\"default\"].func,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  groupRenderer: _propTypes[\"default\"].func,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  keys: _propTypes[\"default\"].shape({\n    groupIdKey: _propTypes[\"default\"].string,\n    groupTitleKey: _propTypes[\"default\"].string,\n    groupLabelKey: _propTypes[\"default\"].string,\n    groupRightTitleKey: _propTypes[\"default\"].string,\n    itemIdKey: _propTypes[\"default\"].string,\n    itemTitleKey: _propTypes[\"default\"].string,\n    itemDivTitleKey: _propTypes[\"default\"].string,\n    itemGroupKey: _propTypes[\"default\"].string,\n    itemTimeStartKey: _propTypes[\"default\"].string,\n    itemTimeEndKey: _propTypes[\"default\"].string\n  }),\n  headerRef: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].func,\n  timeSteps: _propTypes[\"default\"].shape({\n    second: _propTypes[\"default\"].number,\n    minute: _propTypes[\"default\"].number,\n    hour: _propTypes[\"default\"].number,\n    day: _propTypes[\"default\"].number,\n    month: _propTypes[\"default\"].number,\n    year: _propTypes[\"default\"].number\n  }),\n  defaultTimeStart: _propTypes[\"default\"].object,\n  defaultTimeEnd: _propTypes[\"default\"].object,\n  visibleTimeStart: _propTypes[\"default\"].number,\n  visibleTimeEnd: _propTypes[\"default\"].number,\n  onTimeChange: _propTypes[\"default\"].func,\n  onBoundsChange: _propTypes[\"default\"].func,\n  selected: _propTypes[\"default\"].array,\n  headerLabelFormats: _propTypes[\"default\"].shape({\n    yearShort: _propTypes[\"default\"].string,\n    yearLong: _propTypes[\"default\"].string,\n    monthShort: _propTypes[\"default\"].string,\n    monthMedium: _propTypes[\"default\"].string,\n    monthMediumLong: _propTypes[\"default\"].string,\n    monthLong: _propTypes[\"default\"].string,\n    dayShort: _propTypes[\"default\"].string,\n    dayLong: _propTypes[\"default\"].string,\n    hourShort: _propTypes[\"default\"].string,\n    hourMedium: _propTypes[\"default\"].string,\n    hourMediumLong: _propTypes[\"default\"].string,\n    hourLong: _propTypes[\"default\"].string\n  }),\n  subHeaderLabelFormats: _propTypes[\"default\"].shape({\n    yearShort: _propTypes[\"default\"].string,\n    yearLong: _propTypes[\"default\"].string,\n    monthShort: _propTypes[\"default\"].string,\n    monthMedium: _propTypes[\"default\"].string,\n    monthLong: _propTypes[\"default\"].string,\n    dayShort: _propTypes[\"default\"].string,\n    dayMedium: _propTypes[\"default\"].string,\n    dayMediumLong: _propTypes[\"default\"].string,\n    dayLong: _propTypes[\"default\"].string,\n    hourShort: _propTypes[\"default\"].string,\n    hourLong: _propTypes[\"default\"].string,\n    minuteShort: _propTypes[\"default\"].string,\n    minuteLong: _propTypes[\"default\"].string\n  }),\n  resizeDetector: _propTypes[\"default\"].shape({\n    addListener: _propTypes[\"default\"].func,\n    removeListener: _propTypes[\"default\"].func\n  }),\n  verticalLineClassNamesForTime: _propTypes[\"default\"].func,\n  children: _propTypes[\"default\"].node\n});\n_defineProperty(ReactCalendarTimeline, \"defaultProps\", {\n  sidebarWidth: 150,\n  rightSidebarWidth: 0,\n  dragSnap: 1000 * 60 * 15,\n  // 15min\n  minResizeWidth: 20,\n  stickyHeader: true,\n  lineHeight: 30,\n  itemHeightRatio: 0.65,\n  minZoom: 60 * 60 * 1000,\n  // 1 hour\n  maxZoom: 5 * 365.24 * 86400 * 1000,\n  // 5 years\n  clickTolerance: 3,\n  // how many pixels can we drag for it to be still considered a click?\n  canChangeGroup: true,\n  canMove: true,\n  canResize: 'right',\n  useResizeHandle: false,\n  canSelect: true,\n  stackItems: false,\n  traditionalZoom: false,\n  horizontalLineClassNamesForGroup: null,\n  onItemMove: null,\n  onItemResize: null,\n  onItemClick: null,\n  onItemSelect: null,\n  onItemDeselect: null,\n  onItemDrag: null,\n  onCanvasClick: null,\n  onItemDoubleClick: null,\n  onItemContextMenu: null,\n  onZoom: null,\n  verticalLineClassNamesForTime: null,\n  moveResizeValidator: null,\n  dayBackground: null,\n  defaultTimeStart: null,\n  defaultTimeEnd: null,\n  itemTouchSendsClick: false,\n  style: {},\n  className: '',\n  keys: _defaultConfig.defaultKeys,\n  timeSteps: _defaultConfig.defaultTimeSteps,\n  headerRef: function headerRef() {},\n  scrollRef: function scrollRef() {},\n  // if you pass in visibleTimeStart and visibleTimeEnd, you must also pass onTimeChange(visibleTimeStart, visibleTimeEnd),\n  // which needs to update the props visibleTimeStart and visibleTimeEnd to the ones passed\n  visibleTimeStart: null,\n  visibleTimeEnd: null,\n  onTimeChange: function onTimeChange(visibleTimeStart, visibleTimeEnd, updateScrollCanvas) {\n    updateScrollCanvas(visibleTimeStart, visibleTimeEnd);\n  },\n  // called when the canvas area of the calendar changes\n  onBoundsChange: null,\n  children: null,\n  headerLabelFormats: _defaultConfig.defaultHeaderLabelFormats,\n  subHeaderLabelFormats: _defaultConfig.defaultSubHeaderLabelFormats,\n  selected: null\n});\n_defineProperty(ReactCalendarTimeline, \"childContextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_moment","_Items","_Sidebar","_Columns","_GroupRows","_ScrollElement","_MarkerCanvas","_window","_calendar","_generic","_defaultConfig","_TimelineStateContext","_TimelineMarkersContext","_HeadersContext","_TimelineHeaders","_DateHeader","_SidebarHeader","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_typeof","Symbol","iterator","constructor","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","length","err","Array","isArray","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","ReactCalendarTimeline","_Component","getChildContext","_this2","getTimelineContext","_props","_this","_this$state","state","width","visibleTimeStart","visibleTimeEnd","canvasTimeStart","canvasTimeEnd","timelineWidth","arguments","_this$container$getBo","container","getBoundingClientRect","containerWidth","sidebarWidth","rightSidebarWidth","canvasWidth","getCanvasWidth","_stackTimelineItems","stackTimelineItems","items","groups","keys","lineHeight","itemHeightRatio","stackItems","draggingItem","resizingItem","dragTime","resizingEdge","resizeTime","newGroupOrder","dimensionItems","height","groupHeights","groupTops","setState","scrollComponent","scrollLeft","scrollHeaderRef","scrollX","zoom","onTimeChange","updateScrollCanvas","forceUpdateDimensions","calculateScrollCanvas","speed","xPosition","deltaY","changeZoom","scale","offset","_this$props","minZoom","maxZoom","oldZoom","newZoom","Math","min","max","round","newVisibleTimeStart","from","to","valueOf","item","clickType","e","isItemSelected","itemTouchSendsClick","onItemClick","time","timeFromItemEvent","selectedItem","onItemSelect","_time","onItemDeselect","onItemDoubleClick","onItemContextMenu","dragSnap","_this$state2","offsetX","nativeEvent","calculateTimeForXPosition","floor","_this$state3","_scrollComponent$getB","left","xRelativeToTimeline","clientX","relativeItemPosition","timeOffset","newGroup","dragGroupTitle","_get","groupLabelKey","updatingItem","eventType","itemId","onItemMove","edge","timeDelta","onItemResize","_ref","onItemDrag","rowIndex","hasSelectedItem","selectItem","onCanvasClick","getTimeFromRowClickEvent","groupId","groupIdKey","onCanvasDoubleClick","onCanvasContextMenu","timePosition","preventDefault","el","headerRef","child","type","secretKey","children","headerRenderer","Children","map","isTimelineHeader","createElement","unit","scrollRef","getSelected","bind","_visibleTimeStart","_visibleTimeEnd","defaultTimeStart","defaultTimeEnd","Error","_getCanvasBoundariesF","getCanvasBoundariesFromVisibleTime","_getCanvasBoundariesF2","_canvasTimeStart","_canvasTimeEnd","_canvasWidth","_stackTimelineItems2","_dimensionItems","_height","_groupHeights","_groupTops","componentDidMount","resize","resizeDetector","addListener","lastTouchDistance","componentWillUnmount","removeListener","componentDidUpdate","prevProps","prevState","onZoom","onBoundsChange","componentScrollLeft","columns","minUnit","timeSteps","lineCount","_length","verticalLineClassNamesForTime","rows","clickTolerance","onRowClick","handleRowClick","onRowDoubleClick","handleRowDoubleClick","horizontalLineClassNamesForGroup","onRowContextClick","handleScrollContextMenu","minResizeWidth","canChangeGroup","canMove","canResize","useResizeHandle","canSelect","moveResizeValidator","itemSelect","itemDrag","dragItem","itemDrop","dropItem","doubleClickItem","contextMenuClickItem","itemResizing","itemResized","resizedItem","itemRenderer","selected","sidebar","groupRenderer","rightSidebar","isRightSidebar","childrenWithProps","_this3","childArray","filter","c","childProps","cloneElement","selectedItems","some","render","_this4","_this$props2","traditionalZoom","_this$state4","_this$state5","getMinUnit","isInteractingWithItem","stackResults","outerComponentStyle","concat","TimelineStateProvider","showPeriod","timelineUnit","TimelineMarkersProvider","TimelineHeadersProvider","registerScroll","handleHeaderRef","leftSidebarWidth","style","ref","className","renderHeaders","getScrollElementRef","onWheelZoom","handleWheelZoom","onScroll","getDerivedStateFromProps","nextProps","derivedState","forceUpdate","assign","Component","oneOfType","array","object","isRequired","number","stickyHeader","bool","oneOf","func","string","shape","groupTitleKey","groupRightTitleKey","itemIdKey","itemTitleKey","itemDivTitleKey","itemGroupKey","itemTimeStartKey","itemTimeEndKey","second","minute","hour","day","month","year","headerLabelFormats","yearShort","yearLong","monthShort","monthMedium","monthMediumLong","monthLong","dayShort","dayLong","hourShort","hourMedium","hourMediumLong","hourLong","subHeaderLabelFormats","dayMedium","dayMediumLong","minuteShort","minuteLong","node","dayBackground","defaultKeys","defaultTimeSteps","defaultHeaderLabelFormats","defaultSubHeaderLabelFormats"],"sources":["C:/Users/GGPC/aeroclub-bookings/node_modules/react-calendar-timeline/lib/lib/Timeline.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _Items = _interopRequireDefault(require(\"./items/Items\"));\n\nvar _Sidebar = _interopRequireDefault(require(\"./layout/Sidebar\"));\n\nvar _Columns = _interopRequireDefault(require(\"./columns/Columns\"));\n\nvar _GroupRows = _interopRequireDefault(require(\"./row/GroupRows\"));\n\nvar _ScrollElement = _interopRequireDefault(require(\"./scroll/ScrollElement\"));\n\nvar _MarkerCanvas = _interopRequireDefault(require(\"./markers/MarkerCanvas\"));\n\nvar _window = _interopRequireDefault(require(\"../resize-detector/window\"));\n\nvar _calendar = require(\"./utility/calendar\");\n\nvar _generic = require(\"./utility/generic\");\n\nvar _defaultConfig = require(\"./default-config\");\n\nvar _TimelineStateContext = require(\"./timeline/TimelineStateContext\");\n\nvar _TimelineMarkersContext = require(\"./markers/TimelineMarkersContext\");\n\nvar _HeadersContext = require(\"./headers/HeadersContext\");\n\nvar _TimelineHeaders = _interopRequireDefault(require(\"./headers/TimelineHeaders\"));\n\nvar _DateHeader = _interopRequireDefault(require(\"./headers/DateHeader\"));\n\nvar _SidebarHeader = _interopRequireDefault(require(\"./headers/SidebarHeader\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar ReactCalendarTimeline =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ReactCalendarTimeline, _Component);\n\n  _createClass(ReactCalendarTimeline, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        getTimelineContext: function getTimelineContext() {\n          return _this2.getTimelineContext();\n        }\n      };\n    }\n  }]);\n\n  function ReactCalendarTimeline(_props) {\n    var _this;\n\n    _classCallCheck(this, ReactCalendarTimeline);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReactCalendarTimeline).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getTimelineContext\", function () {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          visibleTimeStart = _this$state.visibleTimeStart,\n          visibleTimeEnd = _this$state.visibleTimeEnd,\n          canvasTimeStart = _this$state.canvasTimeStart,\n          canvasTimeEnd = _this$state.canvasTimeEnd;\n      return {\n        timelineWidth: width,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resize\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props;\n\n      var _this$container$getBo = _this.container.getBoundingClientRect(),\n          containerWidth = _this$container$getBo.width;\n\n      var width = containerWidth - props.sidebarWidth - props.rightSidebarWidth;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width);\n\n      var _stackTimelineItems = (0, _calendar.stackTimelineItems)(props.items, props.groups, canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, props.keys, props.lineHeight, props.itemHeightRatio, props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n          dimensionItems = _stackTimelineItems.dimensionItems,\n          height = _stackTimelineItems.height,\n          groupHeights = _stackTimelineItems.groupHeights,\n          groupTops = _stackTimelineItems.groupTops; // this is needed by dragItem since it uses pageY from the drag events\n      // if this was in the context of the scrollElement, this would not be necessary\n\n\n      _this.setState({\n        width: width,\n        dimensionItems: dimensionItems,\n        height: height,\n        groupHeights: groupHeights,\n        groupTops: groupTops\n      });\n\n      _this.scrollComponent.scrollLeft = width;\n      _this.scrollHeaderRef.scrollLeft = width;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function (scrollX) {\n      var width = _this.state.width;\n      var canvasTimeStart = _this.state.canvasTimeStart;\n      var zoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var visibleTimeStart = canvasTimeStart + zoom * scrollX / width;\n\n      if (_this.state.visibleTimeStart !== visibleTimeStart || _this.state.visibleTimeEnd !== visibleTimeStart + zoom) {\n        _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateScrollCanvas\", function (visibleTimeStart, visibleTimeEnd, forceUpdateDimensions) {\n      var items = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _this.props.items;\n      var groups = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _this.props.groups;\n\n      _this.setState((0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdateDimensions, items, groups, _this.props, _this.state));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWheelZoom\", function (speed, xPosition, deltaY) {\n      _this.changeZoom(1.0 + speed * deltaY / 500, xPosition / _this.state.width);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeZoom\", function (scale) {\n      var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.5;\n      var _this$props = _this.props,\n          minZoom = _this$props.minZoom,\n          maxZoom = _this$props.maxZoom;\n      var oldZoom = _this.state.visibleTimeEnd - _this.state.visibleTimeStart;\n      var newZoom = Math.min(Math.max(Math.round(oldZoom * scale), minZoom), maxZoom); // min 1 min, max 20 years\n\n      var newVisibleTimeStart = Math.round(_this.state.visibleTimeStart + (oldZoom - newZoom) * offset);\n\n      _this.props.onTimeChange(newVisibleTimeStart, newVisibleTimeStart + newZoom, _this.updateScrollCanvas);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showPeriod\", function (from, to) {\n      var visibleTimeStart = from.valueOf();\n      var visibleTimeEnd = to.valueOf();\n      var zoom = visibleTimeEnd - visibleTimeStart; // can't zoom in more than to show one hour\n\n      if (zoom < 360000) {\n        return;\n      }\n\n      _this.props.onTimeChange(visibleTimeStart, visibleTimeStart + zoom, _this.updateScrollCanvas);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectItem\", function (item, clickType, e) {\n      if (_this.isItemSelected(item) || _this.props.itemTouchSendsClick && clickType === 'touch') {\n        if (item && _this.props.onItemClick) {\n          var time = _this.timeFromItemEvent(e);\n\n          _this.props.onItemClick(item, e, time);\n        }\n      } else {\n        _this.setState({\n          selectedItem: item\n        });\n\n        if (item && _this.props.onItemSelect) {\n          var _time = _this.timeFromItemEvent(e);\n\n          _this.props.onItemSelect(item, e, _time);\n        } else if (item === null && _this.props.onItemDeselect) {\n          _this.props.onItemDeselect(e); // this isnt in the docs. Is this function even used?\n\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"doubleClickItem\", function (item, e) {\n      if (_this.props.onItemDoubleClick) {\n        var time = _this.timeFromItemEvent(e);\n\n        _this.props.onItemDoubleClick(item, e, time);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"contextMenuClickItem\", function (item, e) {\n      if (_this.props.onItemContextMenu) {\n        var time = _this.timeFromItemEvent(e);\n\n        _this.props.onItemContextMenu(item, e, time);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getTimeFromRowClickEvent\", function (e) {\n      var dragSnap = _this.props.dragSnap;\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          canvasTimeStart = _this$state2.canvasTimeStart,\n          canvasTimeEnd = _this$state2.canvasTimeEnd; // this gives us distance from left of row element, so event is in\n      // context of the row element, not client or page\n\n      var offsetX = e.nativeEvent.offsetX;\n      var time = (0, _calendar.calculateTimeForXPosition)(canvasTimeStart, canvasTimeEnd, (0, _calendar.getCanvasWidth)(width), offsetX);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"timeFromItemEvent\", function (e) {\n      var _this$state3 = _this.state,\n          width = _this$state3.width,\n          visibleTimeStart = _this$state3.visibleTimeStart,\n          visibleTimeEnd = _this$state3.visibleTimeEnd;\n      var dragSnap = _this.props.dragSnap;\n      var scrollComponent = _this.scrollComponent;\n\n      var _scrollComponent$getB = scrollComponent.getBoundingClientRect(),\n          scrollX = _scrollComponent$getB.left;\n\n      var xRelativeToTimeline = e.clientX - scrollX;\n      var relativeItemPosition = xRelativeToTimeline / width;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var timeOffset = relativeItemPosition * zoom;\n      var time = Math.round(visibleTimeStart + timeOffset);\n      time = Math.floor(time / dragSnap) * dragSnap;\n      return time;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dragItem\", function (item, dragTime, newGroupOrder) {\n      var newGroup = _this.props.groups[newGroupOrder];\n      var keys = _this.props.keys;\n\n      _this.setState({\n        draggingItem: item,\n        dragTime: dragTime,\n        newGroupOrder: newGroupOrder,\n        dragGroupTitle: newGroup ? (0, _generic._get)(newGroup, keys.groupLabelKey) : ''\n      });\n\n      _this.updatingItem({\n        eventType: 'move',\n        itemId: item,\n        time: dragTime,\n        newGroupOrder: newGroupOrder\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"dropItem\", function (item, dragTime, newGroupOrder) {\n      _this.setState({\n        draggingItem: null,\n        dragTime: null,\n        dragGroupTitle: null\n      });\n\n      if (_this.props.onItemMove) {\n        _this.props.onItemMove(item, dragTime, newGroupOrder);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resizingItem\", function (item, resizeTime, edge) {\n      _this.setState({\n        resizingItem: item,\n        resizingEdge: edge,\n        resizeTime: resizeTime\n      });\n\n      _this.updatingItem({\n        eventType: 'resize',\n        itemId: item,\n        time: resizeTime,\n        edge: edge\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resizedItem\", function (item, resizeTime, edge, timeDelta) {\n      _this.setState({\n        resizingItem: null,\n        resizingEdge: null,\n        resizeTime: null\n      });\n\n      if (_this.props.onItemResize && timeDelta !== 0) {\n        _this.props.onItemResize(item, resizeTime, edge);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updatingItem\", function (_ref) {\n      var eventType = _ref.eventType,\n          itemId = _ref.itemId,\n          time = _ref.time,\n          edge = _ref.edge,\n          newGroupOrder = _ref.newGroupOrder;\n\n      if (_this.props.onItemDrag) {\n        _this.props.onItemDrag({\n          eventType: eventType,\n          itemId: itemId,\n          time: time,\n          edge: edge,\n          newGroupOrder: newGroupOrder\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRowClick\", function (e, rowIndex) {\n      // shouldnt this be handled by the user, as far as when to deselect an item?\n      if (_this.hasSelectedItem()) {\n        _this.selectItem(null);\n      }\n\n      if (_this.props.onCanvasClick == null) return;\n\n      var time = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      _this.props.onCanvasClick(groupId, time, e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRowDoubleClick\", function (e, rowIndex) {\n      if (_this.props.onCanvasDoubleClick == null) return;\n\n      var time = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      _this.props.onCanvasDoubleClick(groupId, time, e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleScrollContextMenu\", function (e, rowIndex) {\n      if (_this.props.onCanvasContextMenu == null) return;\n\n      var timePosition = _this.getTimeFromRowClickEvent(e);\n\n      var groupId = (0, _generic._get)(_this.props.groups[rowIndex], _this.props.keys.groupIdKey);\n\n      if (_this.props.onCanvasContextMenu) {\n        e.preventDefault();\n\n        _this.props.onCanvasContextMenu(groupId, timePosition, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleHeaderRef\", function (el) {\n      _this.scrollHeaderRef = el;\n\n      _this.props.headerRef(el);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isTimelineHeader\", function (child) {\n      if (child.type === undefined) return false;\n      return child.type.secretKey === _TimelineHeaders[\"default\"].secretKey;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderHeaders\", function () {\n      if (_this.props.children) {\n        var headerRenderer;\n\n        _react[\"default\"].Children.map(_this.props.children, function (child) {\n          if (_this.isTimelineHeader(child)) {\n            headerRenderer = child;\n          }\n        });\n\n        if (headerRenderer) {\n          return headerRenderer;\n        }\n      }\n\n      return _react[\"default\"].createElement(_TimelineHeaders[\"default\"], null, _react[\"default\"].createElement(_DateHeader[\"default\"], {\n        unit: \"primaryHeader\"\n      }), _react[\"default\"].createElement(_DateHeader[\"default\"], null));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getScrollElementRef\", function (el) {\n      _this.props.scrollRef(el);\n\n      _this.scrollComponent = el;\n    });\n\n    _this.getSelected = _this.getSelected.bind(_assertThisInitialized(_this));\n    _this.hasSelectedItem = _this.hasSelectedItem.bind(_assertThisInitialized(_this));\n    _this.isItemSelected = _this.isItemSelected.bind(_assertThisInitialized(_this));\n    var _visibleTimeStart = null;\n    var _visibleTimeEnd = null;\n\n    if (_this.props.defaultTimeStart && _this.props.defaultTimeEnd) {\n      _visibleTimeStart = _this.props.defaultTimeStart.valueOf();\n      _visibleTimeEnd = _this.props.defaultTimeEnd.valueOf();\n    } else if (_this.props.visibleTimeStart && _this.props.visibleTimeEnd) {\n      _visibleTimeStart = _this.props.visibleTimeStart;\n      _visibleTimeEnd = _this.props.visibleTimeEnd;\n    } else {\n      //throwing an error because neither default or visible time props provided\n      throw new Error('You must provide either \"defaultTimeStart\" and \"defaultTimeEnd\" or \"visibleTimeStart\" and \"visibleTimeEnd\" to initialize the Timeline');\n    }\n\n    var _getCanvasBoundariesF = (0, _calendar.getCanvasBoundariesFromVisibleTime)(_visibleTimeStart, _visibleTimeEnd),\n        _getCanvasBoundariesF2 = _slicedToArray(_getCanvasBoundariesF, 2),\n        _canvasTimeStart = _getCanvasBoundariesF2[0],\n        _canvasTimeEnd = _getCanvasBoundariesF2[1];\n\n    _this.state = {\n      width: 1000,\n      visibleTimeStart: _visibleTimeStart,\n      visibleTimeEnd: _visibleTimeEnd,\n      canvasTimeStart: _canvasTimeStart,\n      canvasTimeEnd: _canvasTimeEnd,\n      selectedItem: null,\n      dragTime: null,\n      dragGroupTitle: null,\n      resizeTime: null,\n      resizingItem: null,\n      resizingEdge: null\n    };\n\n    var _canvasWidth = (0, _calendar.getCanvasWidth)(_this.state.width);\n\n    var _stackTimelineItems2 = (0, _calendar.stackTimelineItems)(_props.items, _props.groups, _canvasWidth, _this.state.canvasTimeStart, _this.state.canvasTimeEnd, _props.keys, _props.lineHeight, _props.itemHeightRatio, _props.stackItems, _this.state.draggingItem, _this.state.resizingItem, _this.state.dragTime, _this.state.resizingEdge, _this.state.resizeTime, _this.state.newGroupOrder),\n        _dimensionItems = _stackTimelineItems2.dimensionItems,\n        _height = _stackTimelineItems2.height,\n        _groupHeights = _stackTimelineItems2.groupHeights,\n        _groupTops = _stackTimelineItems2.groupTops;\n    /* eslint-disable react/no-direct-mutation-state */\n\n\n    _this.state.dimensionItems = _dimensionItems;\n    _this.state.height = _height;\n    _this.state.groupHeights = _groupHeights;\n    _this.state.groupTops = _groupTops;\n    /* eslint-enable */\n\n    return _this;\n  }\n\n  _createClass(ReactCalendarTimeline, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.resize(this.props);\n\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.addListener(this);\n      }\n\n      _window[\"default\"].addListener(this);\n\n      this.lastTouchDistance = null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.resizeDetector && this.props.resizeDetector.addListener) {\n        this.props.resizeDetector.removeListener(this);\n      }\n\n      _window[\"default\"].removeListener(this);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var newZoom = this.state.visibleTimeEnd - this.state.visibleTimeStart;\n      var oldZoom = prevState.visibleTimeEnd - prevState.visibleTimeStart; // are we changing zoom? Report it!\n\n      if (this.props.onZoom && newZoom !== oldZoom) {\n        this.props.onZoom(this.getTimelineContext());\n      } // The bounds have changed? Report it!\n\n\n      if (this.props.onBoundsChange && this.state.canvasTimeStart !== prevState.canvasTimeStart) {\n        this.props.onBoundsChange(this.state.canvasTimeStart, this.state.canvasTimeStart + newZoom * 3);\n      } // Check the scroll is correct\n\n\n      var scrollLeft = Math.round(this.state.width * (this.state.visibleTimeStart - this.state.canvasTimeStart) / newZoom);\n      var componentScrollLeft = Math.round(prevState.width * (prevState.visibleTimeStart - prevState.canvasTimeStart) / oldZoom);\n\n      if (componentScrollLeft !== scrollLeft) {\n        this.scrollComponent.scrollLeft = scrollLeft;\n        this.scrollHeaderRef.scrollLeft = scrollLeft;\n      }\n    }\n  }, {\n    key: \"columns\",\n    value: function columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height) {\n      return _react[\"default\"].createElement(_Columns[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        minUnit: minUnit,\n        timeSteps: timeSteps,\n        height: height,\n        verticalLineClassNamesForTime: this.props.verticalLineClassNamesForTime\n      });\n    }\n  }, {\n    key: \"rows\",\n    value: function rows(canvasWidth, groupHeights, groups) {\n      return _react[\"default\"].createElement(_GroupRows[\"default\"], {\n        groups: groups,\n        canvasWidth: canvasWidth,\n        lineCount: (0, _generic._length)(this.props.groups),\n        groupHeights: groupHeights,\n        clickTolerance: this.props.clickTolerance,\n        onRowClick: this.handleRowClick,\n        onRowDoubleClick: this.handleRowDoubleClick,\n        horizontalLineClassNamesForGroup: this.props.horizontalLineClassNamesForGroup,\n        onRowContextClick: this.handleScrollContextMenu\n      });\n    }\n  }, {\n    key: \"items\",\n    value: function items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops) {\n      return _react[\"default\"].createElement(_Items[\"default\"], {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        dimensionItems: dimensionItems,\n        groupTops: groupTops,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        selectedItem: this.state.selectedItem,\n        dragSnap: this.props.dragSnap,\n        minResizeWidth: this.props.minResizeWidth,\n        canChangeGroup: this.props.canChangeGroup,\n        canMove: this.props.canMove,\n        canResize: this.props.canResize,\n        useResizeHandle: this.props.useResizeHandle,\n        canSelect: this.props.canSelect,\n        moveResizeValidator: this.props.moveResizeValidator,\n        itemSelect: this.selectItem,\n        itemDrag: this.dragItem,\n        itemDrop: this.dropItem,\n        onItemDoubleClick: this.doubleClickItem,\n        onItemContextMenu: this.contextMenuClickItem,\n        itemResizing: this.resizingItem,\n        itemResized: this.resizedItem,\n        itemRenderer: this.props.itemRenderer,\n        selected: this.props.selected,\n        scrollRef: this.scrollComponent\n      });\n    }\n  }, {\n    key: \"sidebar\",\n    value: function sidebar(height, groupHeights) {\n      var sidebarWidth = this.props.sidebarWidth;\n      return sidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        groupRenderer: this.props.groupRenderer,\n        keys: this.props.keys,\n        width: sidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n  }, {\n    key: \"rightSidebar\",\n    value: function rightSidebar(height, groupHeights) {\n      var rightSidebarWidth = this.props.rightSidebarWidth;\n      return rightSidebarWidth && _react[\"default\"].createElement(_Sidebar[\"default\"], {\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupRenderer: this.props.groupRenderer,\n        isRightSidebar: true,\n        width: rightSidebarWidth,\n        groupHeights: groupHeights,\n        height: height\n      });\n    }\n    /**\n     * check if child of type TimelineHeader\n     * refer to for explanation https://github.com/gaearon/react-hot-loader#checking-element-types \n     */\n\n  }, {\n    key: \"childrenWithProps\",\n    value: function childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps) {\n      var _this3 = this;\n\n      if (!this.props.children) {\n        return null;\n      } // convert to an array and remove the nulls\n\n\n      var childArray = Array.isArray(this.props.children) ? this.props.children.filter(function (c) {\n        return c;\n      }) : [this.props.children];\n      var childProps = {\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        dimensionItems: dimensionItems,\n        items: this.props.items,\n        groups: this.props.groups,\n        keys: this.props.keys,\n        groupHeights: groupHeights,\n        groupTops: groupTops,\n        selected: this.getSelected(),\n        height: height,\n        minUnit: minUnit,\n        timeSteps: timeSteps\n      };\n      return _react[\"default\"].Children.map(childArray, function (child) {\n        if (!_this3.isTimelineHeader(child)) {\n          return _react[\"default\"].cloneElement(child, childProps);\n        } else {\n          return null;\n        }\n      });\n    }\n  }, {\n    key: \"getSelected\",\n    value: function getSelected() {\n      return this.state.selectedItem && !this.props.selected ? [this.state.selectedItem] : this.props.selected || [];\n    }\n  }, {\n    key: \"hasSelectedItem\",\n    value: function hasSelectedItem() {\n      if (!Array.isArray(this.props.selected)) return !!this.state.selectedItem;\n      return this.props.selected.length > 0;\n    }\n  }, {\n    key: \"isItemSelected\",\n    value: function isItemSelected(itemId) {\n      var selectedItems = this.getSelected();\n      return selectedItems.some(function (i) {\n        return i === itemId;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props2 = this.props,\n          items = _this$props2.items,\n          groups = _this$props2.groups,\n          sidebarWidth = _this$props2.sidebarWidth,\n          rightSidebarWidth = _this$props2.rightSidebarWidth,\n          timeSteps = _this$props2.timeSteps,\n          traditionalZoom = _this$props2.traditionalZoom;\n      var _this$state4 = this.state,\n          draggingItem = _this$state4.draggingItem,\n          resizingItem = _this$state4.resizingItem,\n          width = _this$state4.width,\n          visibleTimeStart = _this$state4.visibleTimeStart,\n          visibleTimeEnd = _this$state4.visibleTimeEnd,\n          canvasTimeStart = _this$state4.canvasTimeStart,\n          canvasTimeEnd = _this$state4.canvasTimeEnd;\n      var _this$state5 = this.state,\n          dimensionItems = _this$state5.dimensionItems,\n          height = _this$state5.height,\n          groupHeights = _this$state5.groupHeights,\n          groupTops = _this$state5.groupTops;\n      var zoom = visibleTimeEnd - visibleTimeStart;\n      var canvasWidth = (0, _calendar.getCanvasWidth)(width);\n      var minUnit = (0, _calendar.getMinUnit)(zoom, width, timeSteps);\n      var isInteractingWithItem = !!draggingItem || !!resizingItem;\n\n      if (isInteractingWithItem) {\n        var stackResults = (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, this.state.canvasTimeStart, this.state.canvasTimeEnd, this.props.keys, this.props.lineHeight, this.props.itemHeightRatio, this.props.stackItems, this.state.draggingItem, this.state.resizingItem, this.state.dragTime, this.state.resizingEdge, this.state.resizeTime, this.state.newGroupOrder);\n        dimensionItems = stackResults.dimensionItems;\n        height = stackResults.height;\n        groupHeights = stackResults.groupHeights;\n        groupTops = stackResults.groupTops;\n      }\n\n      var outerComponentStyle = {\n        height: \"\".concat(height, \"px\")\n      };\n      return _react[\"default\"].createElement(_TimelineStateContext.TimelineStateProvider, {\n        visibleTimeStart: visibleTimeStart,\n        visibleTimeEnd: visibleTimeEnd,\n        canvasTimeStart: canvasTimeStart,\n        canvasTimeEnd: canvasTimeEnd,\n        canvasWidth: canvasWidth,\n        showPeriod: this.showPeriod,\n        timelineUnit: minUnit,\n        timelineWidth: this.state.width\n      }, _react[\"default\"].createElement(_TimelineMarkersContext.TimelineMarkersProvider, null, _react[\"default\"].createElement(_HeadersContext.TimelineHeadersProvider, {\n        registerScroll: this.handleHeaderRef,\n        timeSteps: timeSteps,\n        leftSidebarWidth: this.props.sidebarWidth,\n        rightSidebarWidth: this.props.rightSidebarWidth\n      }, _react[\"default\"].createElement(\"div\", {\n        style: this.props.style,\n        ref: function ref(el) {\n          return _this4.container = el;\n        },\n        className: \"react-calendar-timeline \".concat(this.props.className)\n      }, this.renderHeaders(), _react[\"default\"].createElement(\"div\", {\n        style: outerComponentStyle,\n        className: \"rct-outer\"\n      }, sidebarWidth > 0 ? this.sidebar(height, groupHeights) : null, _react[\"default\"].createElement(_ScrollElement[\"default\"], {\n        scrollRef: this.getScrollElementRef,\n        width: width,\n        height: height,\n        onZoom: this.changeZoom,\n        onWheelZoom: this.handleWheelZoom,\n        traditionalZoom: traditionalZoom,\n        onScroll: this.onScroll,\n        isInteractingWithItem: isInteractingWithItem\n      }, _react[\"default\"].createElement(_MarkerCanvas[\"default\"], null, this.columns(canvasTimeStart, canvasTimeEnd, canvasWidth, minUnit, timeSteps, height), this.rows(canvasWidth, groupHeights, groups), this.items(canvasTimeStart, zoom, canvasTimeEnd, canvasWidth, minUnit, dimensionItems, groupHeights, groupTops), this.childrenWithProps(canvasTimeStart, canvasTimeEnd, canvasWidth, dimensionItems, groupHeights, groupTops, height, visibleTimeStart, visibleTimeEnd, minUnit, timeSteps))), rightSidebarWidth > 0 ? this.rightSidebar(height, groupHeights) : null)))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var visibleTimeStart = nextProps.visibleTimeStart,\n          visibleTimeEnd = nextProps.visibleTimeEnd,\n          items = nextProps.items,\n          groups = nextProps.groups; // This is a gross hack pushing items and groups in to state only to allow\n      // For the forceUpdate check\n\n      var derivedState = {\n        items: items,\n        groups: groups // if the items or groups have changed we must re-render\n\n      };\n      var forceUpdate = items !== prevState.items || groups !== prevState.groups; // We are a controlled component\n\n      if (visibleTimeStart && visibleTimeEnd) {\n        // Get the new canvas position\n        Object.assign(derivedState, (0, _calendar.calculateScrollCanvas)(visibleTimeStart, visibleTimeEnd, forceUpdate, items, groups, nextProps, prevState));\n      } else if (forceUpdate) {\n        // Calculate new item stack position as canvas may have changed\n        var canvasWidth = (0, _calendar.getCanvasWidth)(prevState.width);\n        Object.assign(derivedState, (0, _calendar.stackTimelineItems)(items, groups, canvasWidth, prevState.canvasTimeStart, prevState.canvasTimeEnd, nextProps.keys, nextProps.lineHeight, nextProps.itemHeightRatio, nextProps.stackItems, prevState.draggingItem, prevState.resizingItem, prevState.dragTime, prevState.resizingEdge, prevState.resizeTime, prevState.newGroupOrder));\n      }\n\n      return derivedState;\n    }\n  }]);\n\n  return ReactCalendarTimeline;\n}(_react.Component);\n\nexports[\"default\"] = ReactCalendarTimeline;\n\n_defineProperty(ReactCalendarTimeline, \"propTypes\", {\n  groups: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  items: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].array, _propTypes[\"default\"].object]).isRequired,\n  sidebarWidth: _propTypes[\"default\"].number,\n  rightSidebarWidth: _propTypes[\"default\"].number,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  stickyHeader: _propTypes[\"default\"].bool,\n  lineHeight: _propTypes[\"default\"].number,\n  itemHeightRatio: _propTypes[\"default\"].number,\n  minZoom: _propTypes[\"default\"].number,\n  maxZoom: _propTypes[\"default\"].number,\n  clickTolerance: _propTypes[\"default\"].number,\n  canChangeGroup: _propTypes[\"default\"].bool,\n  canMove: _propTypes[\"default\"].bool,\n  canResize: _propTypes[\"default\"].oneOf([true, false, 'left', 'right', 'both']),\n  useResizeHandle: _propTypes[\"default\"].bool,\n  canSelect: _propTypes[\"default\"].bool,\n  stackItems: _propTypes[\"default\"].bool,\n  traditionalZoom: _propTypes[\"default\"].bool,\n  itemTouchSendsClick: _propTypes[\"default\"].bool,\n  horizontalLineClassNamesForGroup: _propTypes[\"default\"].func,\n  onItemMove: _propTypes[\"default\"].func,\n  onItemResize: _propTypes[\"default\"].func,\n  onItemClick: _propTypes[\"default\"].func,\n  onItemSelect: _propTypes[\"default\"].func,\n  onItemDeselect: _propTypes[\"default\"].func,\n  onCanvasClick: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  onItemContextMenu: _propTypes[\"default\"].func,\n  onCanvasDoubleClick: _propTypes[\"default\"].func,\n  onCanvasContextMenu: _propTypes[\"default\"].func,\n  onZoom: _propTypes[\"default\"].func,\n  onItemDrag: _propTypes[\"default\"].func,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  groupRenderer: _propTypes[\"default\"].func,\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].object,\n  keys: _propTypes[\"default\"].shape({\n    groupIdKey: _propTypes[\"default\"].string,\n    groupTitleKey: _propTypes[\"default\"].string,\n    groupLabelKey: _propTypes[\"default\"].string,\n    groupRightTitleKey: _propTypes[\"default\"].string,\n    itemIdKey: _propTypes[\"default\"].string,\n    itemTitleKey: _propTypes[\"default\"].string,\n    itemDivTitleKey: _propTypes[\"default\"].string,\n    itemGroupKey: _propTypes[\"default\"].string,\n    itemTimeStartKey: _propTypes[\"default\"].string,\n    itemTimeEndKey: _propTypes[\"default\"].string\n  }),\n  headerRef: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].func,\n  timeSteps: _propTypes[\"default\"].shape({\n    second: _propTypes[\"default\"].number,\n    minute: _propTypes[\"default\"].number,\n    hour: _propTypes[\"default\"].number,\n    day: _propTypes[\"default\"].number,\n    month: _propTypes[\"default\"].number,\n    year: _propTypes[\"default\"].number\n  }),\n  defaultTimeStart: _propTypes[\"default\"].object,\n  defaultTimeEnd: _propTypes[\"default\"].object,\n  visibleTimeStart: _propTypes[\"default\"].number,\n  visibleTimeEnd: _propTypes[\"default\"].number,\n  onTimeChange: _propTypes[\"default\"].func,\n  onBoundsChange: _propTypes[\"default\"].func,\n  selected: _propTypes[\"default\"].array,\n  headerLabelFormats: _propTypes[\"default\"].shape({\n    yearShort: _propTypes[\"default\"].string,\n    yearLong: _propTypes[\"default\"].string,\n    monthShort: _propTypes[\"default\"].string,\n    monthMedium: _propTypes[\"default\"].string,\n    monthMediumLong: _propTypes[\"default\"].string,\n    monthLong: _propTypes[\"default\"].string,\n    dayShort: _propTypes[\"default\"].string,\n    dayLong: _propTypes[\"default\"].string,\n    hourShort: _propTypes[\"default\"].string,\n    hourMedium: _propTypes[\"default\"].string,\n    hourMediumLong: _propTypes[\"default\"].string,\n    hourLong: _propTypes[\"default\"].string\n  }),\n  subHeaderLabelFormats: _propTypes[\"default\"].shape({\n    yearShort: _propTypes[\"default\"].string,\n    yearLong: _propTypes[\"default\"].string,\n    monthShort: _propTypes[\"default\"].string,\n    monthMedium: _propTypes[\"default\"].string,\n    monthLong: _propTypes[\"default\"].string,\n    dayShort: _propTypes[\"default\"].string,\n    dayMedium: _propTypes[\"default\"].string,\n    dayMediumLong: _propTypes[\"default\"].string,\n    dayLong: _propTypes[\"default\"].string,\n    hourShort: _propTypes[\"default\"].string,\n    hourLong: _propTypes[\"default\"].string,\n    minuteShort: _propTypes[\"default\"].string,\n    minuteLong: _propTypes[\"default\"].string\n  }),\n  resizeDetector: _propTypes[\"default\"].shape({\n    addListener: _propTypes[\"default\"].func,\n    removeListener: _propTypes[\"default\"].func\n  }),\n  verticalLineClassNamesForTime: _propTypes[\"default\"].func,\n  children: _propTypes[\"default\"].node\n});\n\n_defineProperty(ReactCalendarTimeline, \"defaultProps\", {\n  sidebarWidth: 150,\n  rightSidebarWidth: 0,\n  dragSnap: 1000 * 60 * 15,\n  // 15min\n  minResizeWidth: 20,\n  stickyHeader: true,\n  lineHeight: 30,\n  itemHeightRatio: 0.65,\n  minZoom: 60 * 60 * 1000,\n  // 1 hour\n  maxZoom: 5 * 365.24 * 86400 * 1000,\n  // 5 years\n  clickTolerance: 3,\n  // how many pixels can we drag for it to be still considered a click?\n  canChangeGroup: true,\n  canMove: true,\n  canResize: 'right',\n  useResizeHandle: false,\n  canSelect: true,\n  stackItems: false,\n  traditionalZoom: false,\n  horizontalLineClassNamesForGroup: null,\n  onItemMove: null,\n  onItemResize: null,\n  onItemClick: null,\n  onItemSelect: null,\n  onItemDeselect: null,\n  onItemDrag: null,\n  onCanvasClick: null,\n  onItemDoubleClick: null,\n  onItemContextMenu: null,\n  onZoom: null,\n  verticalLineClassNamesForTime: null,\n  moveResizeValidator: null,\n  dayBackground: null,\n  defaultTimeStart: null,\n  defaultTimeEnd: null,\n  itemTouchSendsClick: false,\n  style: {},\n  className: '',\n  keys: _defaultConfig.defaultKeys,\n  timeSteps: _defaultConfig.defaultTimeSteps,\n  headerRef: function headerRef() {},\n  scrollRef: function scrollRef() {},\n  // if you pass in visibleTimeStart and visibleTimeEnd, you must also pass onTimeChange(visibleTimeStart, visibleTimeEnd),\n  // which needs to update the props visibleTimeStart and visibleTimeEnd to the ones passed\n  visibleTimeStart: null,\n  visibleTimeEnd: null,\n  onTimeChange: function onTimeChange(visibleTimeStart, visibleTimeEnd, updateScrollCanvas) {\n    updateScrollCanvas(visibleTimeStart, visibleTimeEnd);\n  },\n  // called when the canvas area of the calendar changes\n  onBoundsChange: null,\n  children: null,\n  headerLabelFormats: _defaultConfig.defaultHeaderLabelFormats,\n  subHeaderLabelFormats: _defaultConfig.defaultSubHeaderLabelFormats,\n  selected: null\n});\n\n_defineProperty(ReactCalendarTimeline, \"childContextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}